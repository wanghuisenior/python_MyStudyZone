<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery-Util demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="author" content="helang.love@qq.com">
    <link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/bootstrap-3.3.4.css">
    <script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
    <script src="/static/bootstrap-3.3.7-dist/js/bootstrap.js"></script>

    <script type="text/javascript" src="/static/assets/jQuery-Util.js"></script>
    <!-- nprogress-->
    <link rel="stylesheet" type="text/css" href="/static/loading/progress/nprogress/nprogress.css">
    <script type="text/javascript" src="/static/loading/progress/nprogress/nprogress.js"></script>
    <!-- topbar-->
    <script type="text/javascript" src="/static/loading/progress/topbar/topbar.js"></script>
    <!-- 按钮加载中动画 ladda-->
    <link rel="stylesheet" href="/static/loading/ladda-bootstrap-master/dist/ladda-themeless.css">
    <script src="/static/loading/ladda-bootstrap-master/dist/spin.js"></script>
    <script src="/static/loading/ladda-bootstrap-master/dist/ladda.js"></script>
    <!-- PerfectLoading组件-->
    <script src="/static/loading/perfect-loading/PerfectLoading.js"></script>
    <!-- loading组件-->
    <link rel="stylesheet" href="/static/loading/loading/css/loading.css">
    <script src="/static/loading/loading/js/loading.js"></script>
    <!-- fakeLoader-->
    <link rel="stylesheet" href="/static/loading/fakeLoader.js/fakeLoader.css">
    <script src="/static/loading/fakeLoader.js/fakeLoader.js"></script>
    <!-- sweetalert-->
    <script src="/static/alert/sweetalert/sweetalert.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/alert/sweetalert/sweetalert.css">
    <!-- jQueryZdialog-->
    <link type="text/css" rel="stylesheet" href="/static/alert/jQueryZdialog/css/zdialog.css"/>
    <script type="text/javascript" src="/static/alert/jQueryZdialog/js/zdialog.js"></script>
    <!--moment.js-->
    <script type="text/javascript" src="/static/datepicker/moment.js/moment.js"></script>
    <style type="text/css">
        .panel-body.minHieht {
            min-height: 100px;
        }
    </style>
</head>
<body>
{# fakeLoader Include in the top of your <body> tag#}
<div id="fakeLoader"></div>
<div class="container">
    <h2 class="text-primary">jQuery常用工具集 示例----<a href="https://github.com/wanghuisenior" target="_blank">我的github主页</a>
    </h2>
    <div class="row">
        <div class="col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">基于bootstrap封装的提示框</div>
                <div class="panel-body minHieht">
                    <div class="col-md-4">
                        <h4><code>$.Util.bootstrapTip("提示内容")</code></h4>
                        <button type="button" class="btn btn-success" onclick="bootstrapTip()">点我测试</button>
                    </div>
                    <div class="col-md-4">
                        <h4><code>$.Util.bootstrapMsg("提示内容")</code></h4>
                        <button type="button" class="btn btn-success" onclick="bootstrapMsg()">点我测试</button>
                    </div>
                    <div class="col-md-4">
                        <h4><code>$.Util.bootstrapConfirm("提示内容",callback)</code></h4>
                        <button type="button" class="btn btn-success" onclick="bootstrapConfirm()">点我测试</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">基本说明</div>
                <div class="panel-body">
                    <h3>使用方法：<code>$.Util.*</code></h3>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">获取浏览器类型</div>
                <div class="panel-body minHieht">
                    <h4><code>$.Util.getBrowser()</code></h4>
                    <div>返回值:<code>"IE"，"IE6"，"IE7"，"IE8"，"Firefox"，"Opera"，"Chrome"</code></div>
                </div>
                <div class="panel-footer">
                    <button type="button" class="btn btn-success" onclick="browser()">点我测试</button>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">判断浏览终端</div>
                <div class="panel-body minHieht">
                    <h4><code>$.Util.getTerminal()</code></h4>
                    <div>返回值:<code>"android"，"iPad"，"iphone"，"mac"，"windows"，"mobileEnd"</code></div>
                </div>
                <div class="panel-footer">
                    <button type="button" class="btn btn-success" onclick="terminal()">点我测试</button>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">获取随机数</div>
                <div class="panel-body minHieht">
                    <h4><code>$.Util.getRandomNumber(min,max)</code></h4>
                    <div>必传参数：<code>"min:最小值,max:最大值"</code>最小值与最大值区间的随机数</div>
                    <div>返回值：Number</div>
                    <div>返回值：Number</div>
                </div>
                <div class="panel-footer">
                    <button type="button" class="btn btn-success" onclick="getRandomNumber()">点我测试</button>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">浏览器对象常用操作</div>
                <div class="panel-body minHieht">
                    <h4><code>$.Util.win.*</code></h4>
                    <div>* 可选方法 <code>href(url,time)，open(url,time)，back()，reload(time)</code></div>
                    <div><span>href：窗口跳转地址</span>，<span>open：打开新窗口</span>，<span>back：后退</span>，<span>reload：刷新页面</span></div>
                    <div>必传参数：<code>"url"</code>地址栏链接地址，可传参数：<code>"time"</code>延迟毫秒数，默认为0</div>
                </div>
                <div class="panel-footer">
                    <button type="button" class="btn btn-success" onclick="winOpen()">打开新窗口</button>
                    <button type="button" class="btn btn-success" onclick="winReload()">(2秒后)刷新当前页面</button>
                </div>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">常用数据校验</div>
                <div class="panel-body minHieht">
                    <div class="row">
                        <div class="col-sm-6 col-xs-12">
                            <h4><code>$.Util.verify(key,val)</code></h4>
                            <div>必传参数：<code>"key:校验的类型,val:被校验的字符串"</code></div>
                            <div>key 的可选值：
                                <code>"email","mobile",,"legalUserName","legalPassword"</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <code>"isContainChinese","url","idCard","postal","date","qq"</code>
                            </div>
                            <div>返回值：Boolean</div>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label for="inputData" class="col-sm-2 control-label">输入数据</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="inputData" name="inputData" placeholder="请输入需要校验的数据"
                                               value="154306777@qq.com">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="selectSex" class="col-sm-2 control-label">校验类型</label>
                                    <div class="col-sm-10">
                                        <select class="form-control" id="selectRegType" name="selectRegType">
                                            <option value="email">电子邮件</option>
                                            <option value="mobile">手机号码</option>
                                            <option value="legalUserName">用户名</option>
                                            <option value="legalPassword">密码</option>
                                            <option value="isContainChinese">是否包含中文</option>
                                            <option value="url">合法url</option>
                                            <option value="idCard">身份证号</option>
                                            <option value="postal">邮编</option>
                                            <option value="date">合法日期</option>
                                            <option value="qq">QQ</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                                        <button type="button" class="btn btn-success" onclick="verify()">点我校验</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">序列化表单数据为JSON格式(快速获取表单值)</div>
                <div class="panel-body minHieht">
                    <div class="row">
                        <div class="col-sm-6 col-xs-12">
                            <h4><code>$.Util.serializeJSON(obj)</code></h4>
                            <div>必传参数：<code>表单form对象$("#loginForm")</code></div>
                            <div>返回值：Json Object</div>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <form class="form-horizontal" id="loginForm">
                                <div class="form-group">
                                    <label for="inputName" class="col-sm-2 control-label">name</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="inputName" name="userName" placeholder="用户名"
                                               value="admin">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="selectSex" class="col-sm-2 control-label">sex</label>
                                    <div class="col-sm-10">
                                        <select class="form-control" id="selectSex" name="userSex">
                                            <option value="男">男</option>
                                            <option value="女">女</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" name="rePwd" value="true">记住密码
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                                        <button type="button" class="btn btn-success" onclick="serializeJSON()">提交</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <h2 class="text-primary">一些好用的三方库
    </h2>
    <div class="row">
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">全站进度条插件</div>
                <div class="panel-body minHieht">
                    <button type="button" class="btn btn-success" onclick="showNProgress(1)">NProgress基本用法</button>
                    <button type="button" class="btn btn-success" onclick="showNProgress(2)">NProgress动态设置进度</button>
                    <br>
                    <br>
                    <button type="button" class="btn btn-success" onclick="showTopbar(1)">展示topbar</button>
                    <button type="button" class="btn btn-success" onclick="showTopbar(2)">关闭topbar</button>
                    <button type="button" class="btn btn-success" onclick="showTopbar(3)">动态设置</button>

                </div>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">加载状态展示</div>
                <div class="panel-body minHieht">
                    <button id="form-submit" class="btn btn-primary btn-lg ladda-button" data-style="expand-right" data-size="l"><span
                            class="ladda-label">Submit form</span></button>
                    <button type="button" class="btn btn-success ladda-button" id="loadingButton" data-style="expand-right"
                            onclick="showLoading()">加载中
                    </button>
                    <br><br>
                    <button type="button" class="btn btn-success" onclick="showPerfectLoading()">动态设置</button>
                    <button type="button" class="btn btn-success" onclick="showLoading1()">动态设置</button>
                    <button type="button" class="btn btn-success" onclick="showLoading2()">fakeLoader</button>

                </div>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading"> 提示框插件</div>
                <div class="panel-body minHieht">
                    <button type="button" class="btn btn-success" onclick="alert1()">sweetalert弹窗</button>
                    <button type="button" class="btn btn-success" onclick="alert2()">jQueryZdialog弹窗</button>

                </div>
            </div>
        </div>
        <div class="col-sm-6 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">使用moment.js轻松管理日期和时间</div>
                <div class="panel-body minHieht">
                    <button type="button" class="btn btn-success" onclick="momentjs(1)">获取当前时间，并格式化</button>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
</div>
<div id="bs_modal_alert" class="modal" style="z-index:9999;display: none;">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
                <h5 class="modal-title"><i class="fa fa-exclamation-circle"></i> [Title]</h5>
            </div>
            <div class="modal-body small">
                <p>[Message]</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary ok" data-dismiss="modal">[BtnOk]</button>
                <button type="button" class="btn btn-default cancel" data-dismiss="modal">[BtnCancel]</button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    function bootstrapTip() {
        $.Util.bootstrapTip('测试成功！')
    }

    function bootstrapMsg() {
        $.Util.bootstrapMsg('点击确定按钮消失！')
    }

    function bootstrapConfirm() {
        $.Util.bootstrapConfirm('确认执行操作吗！', function () {
            alert('确定')
        })
    }

    function browser() {
        alert($.Util.getBrowser())
    }

    function terminal() {
        alert($.Util.getTerminal())
    }

    function getRandomNumber() {
        alert("10-100的随机数是：" + $.Util.getRandomNumber(10, 100))
    }

    function winOpen() {
        $.Util.win.open("http://www.baidu.com");
    }

    function winReload() {
        $.Util.win.reload(2000);
    }

    function verify() {
        var regData = $('#inputData').val()
        var regType = $('#selectRegType').val()
        alert($.Util.verify(regType, regData))
    }

    function serializeJSON() {
        var info = $.Util.serializeJSON($("#loginForm"));
        alert(JSON.stringify(info));
    }

    function showNProgress(i) {
        if (i == 1) {//两秒后自动消失
            NProgress.start();
            setTimeout(function () {
                NProgress.done();
            }, 2000)
        } else if (i == 2) {//高级用法Percentages：设置一个进度百分比，调用 .set(n)，其中n的取值范围是0到1.0,
            function setP(p) {
                p++;
                var t = setTimeout(function () {
                    if (p <= 100) {
                        NProgress.set(p / 100)
                        setP(p);
                    }
                }, 100)
            }

            setP(20)
        }
    }

    function showTopbar(i) {
        if (i == 1) {
            topbar.show()
        } else if (i == 2) {
            topbar.hide()
        } else if (i == 3) {
            topbar.config({
                autoRun: false,
                barThickness: 5,
                barColors: {
                    '0': 'rgba(26,  188, 156, .7)',
                    '.3': 'rgba(41,  128, 185, .7)',
                    '1.0': 'rgba(231, 76,  60,  .7)'
                },
                shadowBlur: 5,
                shadowColor: 'rgba(0, 0, 0, .5)'
            })
            topbar.show();
            (function step() {
                console.log('top', topbar.progress())
                setTimeout(function () {
                    if (topbar.progress('+.01') < 1) step()
                }, 20)
            })()
        }
    }

    function showLoading() {
        var l = Ladda.create(document.querySelector('#loadingButton'));
        l.start();
        l.setProgress(0.8);
        //ajax调用完毕后停止
        setTimeout(function () {
            l.stop()
        }, 2000)
    }

    $('#form-submit').click(function (e) {
        e.preventDefault();
        var l = Ladda.create(this);
        l.start();
        $.post("your-url",
            {data: {}},
            function (response) {
                console.log(response);
            }, "json")
            .always(function () {
                l.stop();
            });
        return false;
    });

    function showPerfectLoading() {
        $.bootstrapLoading.start({loadingTips: "正在处理数据，请稍候..."});
        //ajax
        setTimeout(function () {
            $.bootstrapLoading.end();
        }, 1000)
    }

    function showLoading1() {
        $('body').loading({
            loadingWidth: 240,
            title: '请稍等!',
            name: 'test',
            discription: '描述描述描述描述',
            direction: 'column',
            type: 'origin',
            // originBg:'#71EA71',
            originDivWidth: 40,
            originDivHeight: 40,
            originWidth: 6,
            originHeight: 6,
            smallLoading: false,
            loadingMaskBg: 'rgba(0,0,0,0.2)'
        });

        setTimeout(function () {
            removeLoading('test');
        }, 3000);
    }

    function showLoading2() {
        //$("#fakeLoader").fakeLoader();// 默认的
        //自定义
        //https://github.com/joaopereirawd/fakeLoader.js
        $("#fakeLoader").fakeLoader({
            timeToHide: 1200, //Time in milliseconds for fakeLoader disappear
            zIndex: 999, // Default zIndex
            spinner: "spinner1",//Options: 'spinner1', 'spinner2', 'spinner3', 'spinner4', 'spinner5', 'spinner6', 'spinner7'
            bgColor: "#2ecc71", //Hex, RGB or RGBA colors
            imagePath: "yourPath/customizedImage.gif" //If you want can you insert your custom image
        });
    }

    function alert1() {
        swal("这是一条alert消息");
    }

    function alert2() {
        //$.DialogByZ.Loading('image/loading.png')
        $.DialogByZ.Alert({Title: "提示", Content: "您的请求失败", BtnL: "确定", FunL: alerts})
        //$.DialogByZ.Confirm({Title: "", Content: "自动隐藏提示Tips弹窗插件</br>代码少使用方便", FunL: confirmL, FunR: Immediate})
        //$.DialogByZ.Autofade({Content: "感谢您对我们的支持"})
    }

    function confirmL() {
        $.DialogByZ.Close();
        $.DialogByZ.Alert({Title: "提示", Content: "您要求稍后开通", BtnL: "确定"})
    }

    //
    function alerts() {

        $.DialogByZ.Close();
    }

    function Immediate() {
        //location.href="http://www.baidu.com"
        // window.open("http://www.baidu.com")
        alert("取消");
    }

    function momentjs(i) {
        switch (i) {
            case 1:
                console.log('获取当前时间对象', moment())
                console.log('转化为Date对象', moment().toDate())
                console.log('获取当前时间，并格式化', moment().format('YYYY-MM-DD HH:mm:ss'))
                console.log('获取当前时间，并格式化', moment().format('YYYY年MM月DD日 HH:mm:ss'))
                moment().hour() // 小时
                moment().date() // 一个月里的第几天
                moment().day() // 星期几
                moment().dayOfYear() // 一年里的第几天
                moment().week() // 一年里的第几周
                moment().month() // 第几个月
                moment().quarter() // 一年里的第几个季度
                moment().year() // 年
                moment().daysInMonth() // 当前月有多少天
                moment().format('YYYY-MM')// 只获取年月
                //操作
                moment().add(7, 'days') // 之后的第7天。第2个参数还可以是 'months', 'years' 等。注意是复数。
                moment().add(7, 'd')// 与上面一行代码的运行结果一样。
                moment().subtract(1, 'months') // 上个月
                moment().startOf('week') // 这周的第一天
                moment().endOf('week')// 这周的最后一天
                //======》创建moment对象
                var t = moment("2018-10-31") // 1995-12-25
                console.log('前一个月', t.subtract(1, 'months').format('YYYY-MM-DD HH:mm:ss'))
                //查询
                // 早于
                moment('2010-10-20').isBefore('2010-10-21') // true
                moment('2010-10-20').isBefore('2010-12-31', 'year') // false
                moment('2010-10-20').isBefore('2011-01-01', 'year') // true

                // 是否相等
                moment('2010-10-20').isSame('2010-10-20') // true
                moment('2010-10-20').isSame('2009-12-31', 'year')  // false
                moment('2010-10-20').isSame('2010-01-01', 'year')  // true

                // 晚于
                moment('2010-10-20').isAfter('2010-10-19') // true
                moment('2010-10-20').isAfter('2010-01-01', 'year') // false
                moment('2010-10-20').isAfter('2009-12-31', 'year') // true

                // 是否在时间范围内
                moment('2010-10-20').isBetween('2010-10-19', '2010-10-25') // true
                moment('2010-10-20').isBetween('2010-01-01', '2012-01-01', 'year') // false
                moment('2010-10-20').isBetween('2009-12-31', '2012-01-01', 'year') // true

                moment().isLeapYear() // 是否是闰年
                break;
        }

    }
</script>

</body>
</html>